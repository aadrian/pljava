<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 2020-10-04 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>PostgreSQL PL/Java &#x2013; Versions of external packages needed to build and use PL/Java</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20201004" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                        <a href="https://tada.github.io/pljava/" id="bannerLeft" title="PL/Java logo combining the PostgreSQL elephant and a Java bean">
                                                <img src="../images/pljava_logo.jpg" alt="PL/Java logo combining the PostgreSQL elephant and a Java bean" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2020-10-04</span>
                  &nbsp;| <span id="projectVersion">Version: 1.5.6</span>
                      </div>
            <div class="xright">                    <a href="https://github.com/tada/pljava/wiki/" class="externalLink" title="Wiki">Wiki</a>
            |
                        <a href="https://github.com/tada/pljava/issues" class="externalLink" title="Issues">Issues</a>
            |
                        <a href="https://www.postgresql.org/list/pljava-dev/" class="externalLink" title="Mailing list">Mailing list</a>
            |
                        <a href="https://github.com/tada/pljava/tree/master/" class="externalLink" title="Code">Code</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Usage</h5>
                  <ul>
                  <li class="none">
                          <a href="../build/build.html" title="Building PL/Java">Building PL/Java</a>
            </li>
                  <li class="none">
                          <a href="../install/install.html" title="Installing into PostgreSQL">Installing into PostgreSQL</a>
            </li>
                  <li class="none">
                          <a href="../install/upgrade.html" title="Upgrading">Upgrading</a>
            </li>
                  <li class="none">
                          <a href="../build/package.html" title="Packaging PL/Java">Packaging PL/Java</a>
            </li>
                  <li class="none">
                          <a href="../use/use.html" title="User guide">User guide</a>
            </li>
                  <li class="none">
                          <a href="../develop/develop.html" title="Developer notes">Developer notes</a>
            </li>
          </ul>
                       <h5>Release Information</h5>
                  <ul>
                  <li class="none">
                          <a href="../releasenotes.html" title="Release notes">Release notes</a>
            </li>
          </ul>
                       <h5>Modules</h5>
                  <ul>
                  <li class="none">
                          <a href="../pljava-api/index.html" title="PL/Java API">PL/Java API</a>
            </li>
                  <li class="none">
                          <a href="../pljava/index.html" title="PL/Java backend Java code">PL/Java backend Java code</a>
            </li>
                  <li class="none">
                          <a href="../pljava-so/index.html" title="PL/Java backend native code">PL/Java backend native code</a>
            </li>
                  <li class="none">
                          <a href="../pljava-deploy/index.html" title="PL/Java Deploy">PL/Java Deploy</a>
            </li>
                  <li class="none">
                          <a href="../pljava-ant/index.html" title="PL/Java Ant tasks">PL/Java Ant tasks</a>
            </li>
                  <li class="none">
                          <a href="../pljava-examples/index.html" title="PL/Java examples">PL/Java examples</a>
            </li>
                  <li class="none">
                          <a href="../pljava-packaging/index.html" title="PL/Java packaging">PL/Java packaging</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="../project-info.html" title="Project Information">Project Information</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <h1>Versions of external packages needed to build and use PL/Java</h1>
<p>As of mid-2020, the following version constraints are known.</p>
<div class="section">
<h2><a name="Java"></a>Java</h2>
<p>No version of Java before 1.6 (&#x201c;Java 6&#x201d;) is supported. The PL/Java code makes use of Java features first appearing in Java 6.</p>
<p>As for later versions of Java, backward compatibility in the language is generally good. Before Java 8, most likely problem areas with a new Java version tended to be additions to the JDBC API that PL/Java had not yet implemented. Since Java 8, even JDBC additions have not caused problems for existing PL/Java code, as they have taken advantage of the default-methods feature introduced in that release.</p>
<p>In the PL/Java 1.5.x series, the build can be done with Java 6 or newer (but builds with 6 or 7 <a href="#Maven_failures_when_downloading_dependencies">may be difficult</a>). Once built, PL/Java is able to use another Java 6 or later JVM at run time, simply by setting <a href="../use/variables.html">the <tt>pljava.libjvm_location</tt> variable</a> to the desired version&#x2019;s library.</p>
<p>That allows PL/Java to run application code written for the latest Java versions, and also to take advantage of recent Java implementation advances such as <a href="../install/vmoptions.html#Class_data_sharing">class data sharing</a>.</p>
<p>PL/Java has been successfully used with <a class="externalLink" href="https://www.oracle.com/technetwork/java/javase/downloads/index.html">Oracle Java</a> and with <a class="externalLink" href="https://adoptopenjdk.net/">OpenJDK</a>, which is available with <a class="externalLink" href="https://www.eclipse.org/openj9/oj9_faq.html">either the Hotspot or the OpenJ9 JVM</a>. It can also be built and used with <a class="externalLink" href="https://www.graalvm.org/">GraalVM</a>.</p>
<p>As of Java 12, the Java compiler can no longer generate code targeting a Java 6 runtime. If PL/Java is built with Java 12 or newer, it will not run with a JRE older than 7. If it is necessary to build a PL/Java that will run on 6, it must be built with 11 or earlier.</p>
<p>PL/Java 1.5.x cannot be built with Java 15 or later, as the Nashorn JavaScript engine used in the build process no longer ships with Java 15. It can be built with GraalVM, if <tt>-Dpolyglot.js.nashorn-compat</tt> is added to the <tt>mvn</tt> command line. It will run on Java 15 if built with an earlier JDK or with Graal.</p>
<div class="section">
<h3><a name="Maven_failures_when_downloading_dependencies"></a>Maven failures when downloading dependencies</h3>
<p>As of late 2017, important Maven remote repository servers no longer accept connections using the encryption protocols available in Java 7 or 6. Although PL/Java can still, in principle, be built using those Java versions (if all dependencies are already in the build host&#x2019;s local repository), Maven may fail to download necessary dependencies unless run with Java 8, which supports the newer protocol versions needed to reach the servers.</p></div></div>
<div class="section">
<h2><a name="Maven"></a>Maven</h2>
<p>As of mid-2020, PL/Java can be built with Maven versions at least as far back as 3.2.5. As shown in the <a class="externalLink" href="https://maven.apache.org/docs/history.html">Maven release history</a>, <b>Maven releases after 3.2.5 require Java 7 or later</b>. If you wish to <i>build</i> PL/Java using a Java 6 development kit, you must use a Maven version not newer than 3.2.5.</p></div>
<div class="section">
<h2><a name="gcc"></a>gcc</h2>
<p>If you are building on a platform where <tt>gcc</tt> is the compiler, versions 4.3.0 or later are recommended in order to avoid a <a class="externalLink" href="https://gcc.gnu.org/bugzilla/show_bug.cgi?id=35214">sea of unhelpful compiler messages</a>.</p></div>
<div class="section">
<h2><a name="PostgreSQL"></a>PostgreSQL</h2>
<p>PL/Java does not currently support PostgreSQL releases before 8.2. Recent work is known to have introduced dependencies on 8.2 features.</p>
<p>The current aim is to avoid deliberately breaking compatibility back to 8.2. (A former commercial fork of PostgreSQL 8.2 recently returned to the open-source fold with a <i>really</i> old version of PL/Java, so the aim is that the current PL/Java should be a possible upgrade there.)</p>
<p>More current PostgreSQL versions, naturally, are the focus of development and receive more attention in testing.</p>
<p>PL/Java 1.5.1 has been successfully built and run on at least one platform with PostgreSQL versions from 11 to 8.2, the latest maintenance release for each.</p></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2003&#x2013;2020
                        <a href="http://tada.se/eng/">Tada AB</a>.
            All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
