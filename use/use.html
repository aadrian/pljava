<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 2020-10-04 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>PostgreSQL PL/Java &#x2013; User guide (non-wiki version)</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20201004" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                        <a href="https://tada.github.io/pljava/" id="bannerLeft" title="PL/Java logo combining the PostgreSQL elephant and a Java bean">
                                                <img src="../images/pljava_logo.jpg" alt="PL/Java logo combining the PostgreSQL elephant and a Java bean" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2020-10-04</span>
                  &nbsp;| <span id="projectVersion">Version: 1.5.6</span>
                      </div>
            <div class="xright">                    <a href="https://github.com/tada/pljava/wiki/" class="externalLink" title="Wiki">Wiki</a>
            |
                        <a href="https://github.com/tada/pljava/issues" class="externalLink" title="Issues">Issues</a>
            |
                        <a href="https://www.postgresql.org/list/pljava-dev/" class="externalLink" title="Mailing list">Mailing list</a>
            |
                        <a href="https://github.com/tada/pljava/tree/master/" class="externalLink" title="Code">Code</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Usage</h5>
                  <ul>
                  <li class="none">
                          <a href="../build/build.html" title="Building PL/Java">Building PL/Java</a>
            </li>
                  <li class="none">
                          <a href="../install/install.html" title="Installing into PostgreSQL">Installing into PostgreSQL</a>
            </li>
                  <li class="none">
                          <a href="../install/upgrade.html" title="Upgrading">Upgrading</a>
            </li>
                  <li class="none">
                          <a href="../build/package.html" title="Packaging PL/Java">Packaging PL/Java</a>
            </li>
                  <li class="none">
            <strong>User guide</strong>
          </li>
                  <li class="none">
                          <a href="../develop/develop.html" title="Developer notes">Developer notes</a>
            </li>
          </ul>
                       <h5>Release Information</h5>
                  <ul>
                  <li class="none">
                          <a href="../releasenotes.html" title="Release notes">Release notes</a>
            </li>
          </ul>
                       <h5>Modules</h5>
                  <ul>
                  <li class="none">
                          <a href="../pljava-api/index.html" title="PL/Java API">PL/Java API</a>
            </li>
                  <li class="none">
                          <a href="../pljava/index.html" title="PL/Java backend Java code">PL/Java backend Java code</a>
            </li>
                  <li class="none">
                          <a href="../pljava-so/index.html" title="PL/Java backend native code">PL/Java backend native code</a>
            </li>
                  <li class="none">
                          <a href="../pljava-deploy/index.html" title="PL/Java Deploy">PL/Java Deploy</a>
            </li>
                  <li class="none">
                          <a href="../pljava-ant/index.html" title="PL/Java Ant tasks">PL/Java Ant tasks</a>
            </li>
                  <li class="none">
                          <a href="../pljava-examples/index.html" title="PL/Java examples">PL/Java examples</a>
            </li>
                  <li class="none">
                          <a href="../pljava-packaging/index.html" title="PL/Java packaging">PL/Java packaging</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="../project-info.html" title="Project Information">Project Information</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <h1>User guide (non-wiki version)</h1>
<p>Content will gradually be migrated here and updated from the <a class="externalLink" href="https://github.com/tada/pljava/wiki/User-guide">user guide pages on the wiki</a>.</p>
<p>For now, this only suggests a few sources:</p>

<ul>
  
<li>The obligatory <a href="hello.html">Hello world</a> tutorial example</li>
  
<li>The <a href="../pljava-api/apidocs/index.html?org/postgresql/pljava/package-summary.html#package_description">PL/Java API</a> documentation</li>
  
<li>The user guide pages <a class="externalLink" href="https://github.com/tada/pljava/wiki/User-guide">on the wiki</a></li>
  
<li>The many pre-built <a href="../examples/examples.html">examples</a></li>
</ul>
<div class="section">
<h2><a name="How_to_compile_against_the_PLJava_API"></a>How to compile against the PL/Java API</h2>
<p>The <a href="hello.html">Hello world example</a> demonstrates how to use a Maven POM that declares <tt>pljava-api</tt> as a dependency. However, as arrangements are still incomplete for <tt>pljava-api</tt> to be at Maven Central, it has to be in your local Maven repository. If you have built PL/Java from source using <tt>mvn clean install</tt>, it will be there already.</p>
<p>If not, an easy way to install the API into your local repository is to download the PL/Java source, and run <tt>mvn --projects pljava-api clean install</tt> there. It will quickly build and install the API jar, without requiring the various build-time dependencies needed when all of PL/Java is being built.</p>
<p>If not using Maven, you can simply add the <tt>pljava-api</tt> jar file to the class path for your Java compiler. Installation normally places the file in <tt>SHAREDIR/pljava</tt> where <tt>SHAREDIR</tt> is as reported by <tt>pg_config</tt>.</p>
<p>You can also compile successfully by placing the full <tt>pljava</tt> jar file on the classpath instead of <tt>pljava-api</tt>, but in that case the compiler will not alert you if your code inadvertently refers to non-API internal PL/Java classes that may change from release to release.</p></div>
<div class="section">
<h2><a name="Special_topics"></a>Special topics</h2>
<div class="section">
<h3><a name="Choices_when_mapping_data_types"></a>Choices when mapping data types</h3>
<div class="section">
<h4><a name="Date_and_time_types"></a>Date and time types</h4>
<p>PostgreSQL <tt>date</tt>, <tt>time</tt>, and <tt>timestamp</tt> types can still be matched to the original JDBC <tt>java.sql.Date</tt>, <tt>java.sql.Time</tt>, and <tt>java.sql.Timestamp</tt>, but application code is encouraged to move to Java 8 or later and use the <a href="datetime.html">new classes in the <tt>java.time</tt> package in Java 8</a> instead.</p></div>
<div class="section">
<h4><a name="XML_type"></a>XML type</h4>
<p>PL/Java can map PostgreSQL <tt>xml</tt> data to <tt>java.lang.String</tt>, but there are significant advantages to using the <a href="sqlxml.html">JDBC 4.0 <tt>java.sql.SQLXML</tt> type</a> for processing XML.</p></div></div>
<div class="section">
<h3><a name="Parallel_query"></a>Parallel query</h3>
<p>PostgreSQL 9.3 introduced <a class="externalLink" href="https://www.postgresql.org/docs/current/static/bgworker.html">background worker processes</a> (though at least PostgreSQL 9.5 is needed for support in PL/Java), and PostgreSQL 9.6 introduced <a class="externalLink" href="https://www.postgresql.org/docs/current/static/parallel-query.html">parallel query</a>.</p>
<p>For details on PL/Java in a background worker or parallel query, see <a href="parallel.html">PL/Java in parallel query</a>.</p></div>
<div class="section">
<h3><a name="Character-set_encodings"></a>Character-set encodings</h3>
<p>PL/Java will work most seamlessly when the server encoding in PostgreSQL is <tt>UTF8</tt>. For other cases, please see the <a href="charsets.html">character encoding notes</a>.</p></div>
<div class="section">
<h3><a name="Byte-order_issues"></a>Byte-order issues</h3>
<p>PL/Java is free of byte-order issues except when using its features for building user-defined types in Java. At sites with no current or planned use of those features, this section does not require attention.</p>
<p>The 1.5.0 release of PL/Java begins a transition affecting the byte-order defaults, which will be completed in a future release. No immediate action is recommended; there is a <a href="byteorder.html">byte-order page</a> for more on the topic and an advance notice of an expected future migration step.</p></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2003&#x2013;2020
                        <a href="http://tada.se/eng/">Tada AB</a>.
            All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
